CREATE DATABASE IF NOT EXISTS `FRUITIZ` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
USE `SMOOTHIES`;

CREATE TABLE `RECETTE` (
  `nm_rec` VARCHAR(42),
  `` VARCHAR(42),
  PRIMARY KEY (`nm_rec`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `JUS` (
  `nm_jus` VARCHAR(42),
  `` VARCHAR(42),
  PRIMARY KEY (`nm_jus`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `SUPPLÉMENT` (
  `nm_sup` VARCHAR(42),
  `` VARCHAR(42),
  PRIMARY KEY (`nm_sup`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `HÉRITÉ` (
  `nm_rec` VARCHAR(42),
  `prix` VARCHAR(42),
  PRIMARY KEY (`nm_rec`, `prix`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `SMOOTHIE` (
  `prix` VARCHAR(42),
  `` VARCHAR(42),
  `taille` VARCHAR(42),
  `nm_sup` VARCHAR(42),
  `nm_jus` VARCHAR(42),
  PRIMARY KEY (`prix`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `EST_DEDANS` (
  `nm_fru` VARCHAR(42),
  `prix` VARCHAR(42),
  `quantité` VARCHAR(42),
  PRIMARY KEY (`nm_fru`, `prix`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `FRUIT` (
  `nm_fru` VARCHAR(42),
  `` VARCHAR(42),
  PRIMARY KEY (`nm_fru`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `COMPTE` (
  `nm_use` VARCHAR(42),
  `pr_use` VARCHAR(42),
  `mail_use` VARCHAR(42),
  `tel_use` VARCHAR(42),
  `adr_use` VARCHAR(42),
  `vil_use` VARCHAR(42),
  `mdp_use` VARCHAR(42),
  PRIMARY KEY (`nm_use`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `RÉCIPIENT` (
  `taille` VARCHAR(42),
  `` VARCHAR(42),
  PRIMARY KEY (`taille`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `DÉPEND` (
  `date` VARCHAR(42),
  `prix` VARCHAR(42),
  PRIMARY KEY (`date`, `prix`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `HISTORIQUE` (
  `date` VARCHAR(42),
  `` VARCHAR(42),
  PRIMARY KEY (`date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `CONNECTÉ` (
  `date` VARCHAR(42),
  `nm_use` VARCHAR(42),
  PRIMARY KEY (`date`, `nm_use`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `HÉRITÉ` ADD FOREIGN KEY (`prix`) REFERENCES `SMOOTHIE` (`prix`);
ALTER TABLE `HÉRITÉ` ADD FOREIGN KEY (`nm_rec`) REFERENCES `RECETTE` (`nm_rec`);
ALTER TABLE `SMOOTHIE` ADD FOREIGN KEY (`nm_jus`) REFERENCES `JUS` (`nm_jus`);
ALTER TABLE `SMOOTHIE` ADD FOREIGN KEY (`nm_sup`) REFERENCES `SUPPLÉMENT` (`nm_sup`);
ALTER TABLE `SMOOTHIE` ADD FOREIGN KEY (`taille`) REFERENCES `RÉCIPIENT` (`taille`);
ALTER TABLE `EST_DEDANS` ADD FOREIGN KEY (`prix`) REFERENCES `SMOOTHIE` (`prix`);
ALTER TABLE `EST_DEDANS` ADD FOREIGN KEY (`nm_fru`) REFERENCES `FRUIT` (`nm_fru`);
ALTER TABLE `DÉPEND` ADD FOREIGN KEY (`prix`) REFERENCES `SMOOTHIE` (`prix`);
ALTER TABLE `DÉPEND` ADD FOREIGN KEY (`date`) REFERENCES `HISTORIQUE` (`date`);
ALTER TABLE `CONNECTÉ` ADD FOREIGN KEY (`nm_use`) REFERENCES `COMPTE` (`nm_use`);
ALTER TABLE `CONNECTÉ` ADD FOREIGN KEY (`date`) REFERENCES `HISTORIQUE` (`date`);
